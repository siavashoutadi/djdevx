{% extends "allauth_base.html" %}
{% load i18n %}

{% block title %}{% trans "Confirm Device" %}{% endblock %}

{% block content %}
  <main class="mx-auto container">
    <div class="flex flex-1 flex-col justify-center px-6 py-4 lg:px-8">
      <div class="sm:mx-auto sm:w-full sm:max-w-md">
        <h2 class="text-center text-2xl font-bold leading-9 tracking-tight">{% trans "Confirm Device" %}</h2>
      </div>
      <div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md">
        <p class="text-gray-700 dark:text-gray-300 text-sm leading-6 mb-6">
          {% blocktranslate with client_name=client.name %}
          Please confirm the code shown on your {{ client_name }} to authorize this device.
          {% endblocktranslate %}
        </p>

        <div class="mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-md border border-gray-300 dark:border-gray-600">
          <label class="block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2">
            {% trans "Code" %}
          </label>
          <input type="text"
                 value="{{ user_code }}"
                 disabled
                 class="block w-full rounded-md border-0 bg-gray-100 dark:bg-gray-600 px-3 py-2 text-gray-700 dark:text-gray-200 text-center text-lg font-mono tracking-widest shadow-sm">
        </div>

        {% url 'idp:oidc:authorize' as authorization_url %}
        <form method="post" action="{{ authorization_url }}" class="space-y-6">
          {% csrf_token %}
          {{ form }}

          <div class="flex gap-3 items-center justify-between">
            <button type="submit"
                    name="action"
                    value="confirm"
                    class="flex-1 flex justify-center rounded-md px-3 py-2 text-sm font-semibold leading-6 shadow-sm bg-black text-white hover:bg-slate-900 dark:bg-transparent dark:outline dark:outline-white dark:text-white dark:hover:text-gray-400 dark:hover:outline-gray-400">
              {% trans "Confirm" %}
            </button>
            <button type="submit"
                    name="action"
                    value="deny"
                    class="flex-1 flex justify-center rounded-md px-3 py-2 text-sm font-semibold leading-6 shadow-sm bg-gray-200 text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600">
              {% trans "Deny" %}
            </button>
          </div>
        </form>
      </div>
      </div>
    </div>
  </main>
{% endblock %}
